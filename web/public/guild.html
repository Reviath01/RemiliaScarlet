<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="icon" href="{{.botavatar}}">
    <title>{{.botusername}}</title>
</head>
<body class="bg-dark text-light">
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-lg p-3 mb-5 rounded">
    <img src="{{.user.AvatarURL}}" class="shadow-lg rounded-circle" style="width:40px; height:40px; float: left;"/>&emsp;
   <a class="navbar-brand" href="{{.botlink}}">{{.user.Name}}</a>
   <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
  
  <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
    <ul class="navbar-nav pull-right">
      <li class="nav-item">
        <a class="nav-link" href="/">Home</a>
      </li>
    <li class="nav-item">
        <a class="nav-link" href="/support">Support</a>
    </li>
</ul>
</div>
</nav>
<section align="center">
  {{$guild := .guild}}
<h1>{{.guild.Name}}'s Settings </h1>

{{if eq .settings.RoleID "nil"}}
<a> Set auto role </a>
{{range .guild.Roles}}
{{if eq .ID $guild.ID}}
{{else}}
<a href="/api/autorole/{{$guild.ID}}/{{.ID}}"> {{.Name}}</a>
{{end}}
{{end}}
{{else}}
<a> Autorole: {{.settings.RoleID}} </a>
<br>
<a href="/api/resetautorole/{{.guild.ID}}"> Reset auto role </a>
{{end}}
<br> <br>
{{if eq .settings.LogID "nil"}}
<a> Set log channel: </a>
{{range .guild.Channels}}
{{if eq .Type 0}}
<a href="/api/log/{{$guild.ID}}/{{.ID}}">{{.Name}}</a>
{{end}}
{{end}}
{{else}}
<a> Log channel id: {{.settings.LogID}} </a>
<br>
<a href="/api/resetlog/{{.guild.ID}}"> Reset log channel </a>
{{end}}
<br> <br>
{{if eq .settings.LeaveMessage "nil"}}
<a> Set leave message </a>
{{else}}
<a> Leave message: {{.settings.LeaveMessage}} </a>
<br>
<a href="/api/resetleavemessage/{{.guild.ID}}"> Reset leave message </a>
{{end}}
<br> <br>
{{if eq .settings.LeaveChannelID "nil"}}
<a> Set leave channel </a>
{{range .guild.Channels}}
{{if eq .Type 0}}
<a href="/api/leavechannel/{{$guild.ID}}/{{.ID}}">{{.Name}}</a>
{{end}}
{{end}}
{{else}}
<a> Leave channel id: {{.settings.LeaveChannelID}} </a>
<br>
<a href="/api/resetleavechannel/{{.guild.ID}}"> Reset leave channel </a>
{{end}}
<br> <br>
{{if eq .settings.WelcomeMessage "nil"}}
<a> Set welcome message </a>
{{else}}
<a> Welcome message: {{.settings.WelcomeMessage}} </a>
<br>
<a href="/api/resetwelcomemessage/{{.guild.ID}}"> Reset welcome message </a>
{{end}}
<br> <br>
{{if eq .settings.WelcomeChannelID "nil"}}
<a> Set welcome channel </a>
{{range .guild.Channels}}
{{if eq .Type 0}}
<a href="/api/welcomechannel/{{$guild.ID}}/{{.ID}}">{{.Name}}</a>
{{end}}
{{end}}
{{else}}
<a> Welcome channel id: {{.settings.WelcomeChannelID}} </a>
<br>
<a href="/api/resetwelcomechannel/{{.guild.ID}}"> Reset welcome channel </a>
{{end}}

</section>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
</body>
</html>